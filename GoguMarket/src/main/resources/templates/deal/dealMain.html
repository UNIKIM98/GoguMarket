<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://ultraq.net/thymeleaf/layout"
layout:decorate="~{layouts/layout}">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>ì¤‘ê³ ê±°ë˜ìƒí’ˆ ë©”ì¸ í˜ì´ì§€ì…ë‹ˆë‹¤</title>
  <script src="https://code.jquery.com/jquery-3.6.3.js"
	integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
	crossorigin="anonymous"></script>
    <style>
	
		.col-lg-3 span{
		color: #C04A82;
		}
   		 .action-button span {
			color: #C04A82;
		}
		
        .rolling_box{
            width: 300px;
            height: 40px;
            text-align: center;
            border: 1px solid #848484;
        }

        .rolling_box ul {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative;
        }

        .rolling_box ul li {
            width: 100%;
            height: 100%;
            transition: .5s;
            position:absolute;
            transition: top .75s;
            top: 100%;
            z-index: 1;
            background-color: #ffffff;
        }

        .card_sliding{
            top: 0 !important;
            z-index: 100 !important;
        } 

        .card_sliding_after{
            top: -100% !important;
            z-index: 10 !important;
        }

        .rolling_box ul li p {
            font-size: 30px;
            line-height: 40px;
            font-weight: bold;
        }

        .before_slide {
            transform: translateY(100%);
        }

        .after_slide {
            transform: translateY(0);
        }

    </style>

</head>

<body>
	<div layout:fragment="content">
    	<script>
    		// í•¨ìˆ˜ë¡œë°›ì•„ì„œ
			function gopage(page) {
				frmSearch.page.value = page;
				frmSearch.submit();
			}
			// ê²€ìƒ‰ì–´ ê²°ê³¼ê°€ ìœ ì§€ë˜ë„ë¡ + ì„œë¸Œë°‹ í•¨ìˆ˜ 
			function SearchSubmit(orderby){
				frmSearch.orderby.value = orderby;
				frmSearch.submit();
			}
			// ì´ˆê¸°í™”ë²„íŠ¼
			function resetSearch(){
				frmSearch.page.value='1';
				frmSearch.orderby.value='';
				frmSearch.ctgry.value='';
				frmSearch.searchType.value='';
				frmSearch.searchTtl.value='';
				
			}
			
		</script>
    <!-- Body main wrapper start -->
    <div class="wrapper">
        <!-- BREADCRUMBS SETCTION START -->
        <div class="breadcrumbs-section plr-200 mb-80 section">
            <div class="breadcrumbs overlay-bg">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="breadcrumbs-inner">
                                <h1 class="breadcrumbs-title">ì¤‘ê³ ë§ˆì¼“</h1>
                                <ul class="breadcrumb-list">
                                    <li><a href="/">í™ˆìœ¼ë¡œê°€ê¸°</a></li>
                                    <li>ì¤‘ê³ ë§ˆì¼“ë©”ì¸</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

									
									
        <div class="newsletter-section section-bg-tb pt-60 pb-80">
            <div class="container">
	            <div center="align">
		            <h2 class="newsletter-title" style="color:#C04A82; margin-left:30px;">ğŸ ì¤‘ê³ ë§ˆì¼“ í†µí•©ê²€ìƒ‰</h2>
	                    <p style="margin-left:30px;">1. ì¹´í…Œê³ ë¦¬ì™€ ê¸€ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”</p>
	                    <p style="margin-left:30px;">2. ì„ íƒí•˜ì§€ ì•Šì„ ì‹œ ì „ì²´ê¸€ì—ì„œ ì¡°íšŒë©ë‹ˆë‹¤</p>
	            </div>
                <div class="row">
                    <div class="col-lg-8 lg-2">
                       <!-- ì¹´í…Œê³ ë¦¬&ê²€ìƒ‰&í˜ì´ì§• ì‚¼ìœ„ì¼ì²´ë¡œ í•œíì— : form íƒœê·¸ë¡œ ê°ì‹¼ë‹¤ -->
                        <div class="newsletter"> 
                        	<div class="newsletter-info text-center">
		                        <form name="frmSearch" align="center">
				                    
		                                <div class="subcribe clearfix">
		                                        <input type="hidden" name="page" value="1"> 
		                                        <input type="hidden" name="orderby" value="dl_ymd"> 
		                                        <div class="row">
		                                        <div class="col-2" style="padding: 15px 15px 0 15px;">
		                                            <select style="width:150px;" name="ctgry">
		                                            
		                                                <!-- ì„ íƒí•œê°’ì„ ë„¤ì„ì— ë‹´ì•„ì¤˜ì•¼ëœë‹¤..ìœ„ì— ì£¼ì†Œì°½ì— ëœ¸ -->
		                                                <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬
		                                                <option th:each="ct : ${category}" th:text="${ct.commonNm}"
		                                                    th:value="${ct.commonDetailCode}"
		                                                    th:selected="${ct.commonDetailCode}==${dsvo.ctgry}">
		                                            </select> 
		                                             <!-- í‚¤ì›Œë“œë³„ê²€ìƒ‰ + í‚¤ì›Œë“œì €ì¥(ì‹¤ê²€ì—ì“¸) -->                                                        
			                                        <select style="width:150px; " id="searchType" name="searchType" title="ê²€ìƒ‰ ìœ í˜• ì„ íƒ">
			                                            <option value="">ì „ì²´ ê¸€ ìœ í˜•</option>
			                                            <option value="dlTtl" th:selected="'dlTtl'==${dsvo.searchType}">ê¸€ì œëª©</option>
			                                            <option value="dlCn" th:selected="'dlCn'==${dsvo.searchType}">ê¸€ë‚´ìš©</option>
			                                            <option value="ntslId" th:selected="'ntslId'==${dsvo.searchType}">íŒë§¤ì</option>
			                                        </select> 
			                                        </div>
			                                <div class="col-8">
			                                <div class="row">
			                                <div class="col-6">
			                                	<input th:value="${dsvo.searchTtl}" type="text" name="searchTtl" id="searchTtl"
			                                           placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" title="í‚¤ì›Œë“œ ì…ë ¥"
			                                           style="margin-top:20px;"/>
			                               </div>
			                                <div class="col-4">
			                                    <button class="submit-btn-2 btn-hover-2" type="submit" style="width:95px; margin-top:20px;" >ê²€ìƒ‰</button>
				                                <button class="submit-btn-2 btn-hover-2" style="width:95px; margin-top:20px;" onclick="resetSearch()" type="button">ë¦¬ì…‹</button>
			                                </div>
			                                </div>
			                                </div>
			                                </div>
		                             </div>
		                        </form>
	                        </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-3" style="margin-top:0px;">
                <!-- ì¸ê¸°ê²€ìƒ‰ì–´ ë¡¤ë§ë°•ìŠ¤ -->
		              <h3><span>ğŸ ì¸ê¸°ê²€ìƒ‰ì–´</span></h3>
		                <div class="rolling_box">
		                    <ul id ="rolling_box">
		                    <li class="card_sliding" id ="first"><p></p></li>
		                    <li class="" id ="second"><p></p></li>
		                    <li class="" id ="third"><p></p></li>
		                    </ul>
		                </div>
		                
		            </div>
                    
                </div>
            </div>
        </div>
         
            
        </div>

		
        <!-- Start page content -->
        <section id="page-content" class="page-wrapper section">
            
            <div class="mb-80">

            <!-- PRODUCT TAB SECTION START -->
            <div>
                <div class="container">
                    <div class="row">
                       
                        <div class="col-lg-6">
                            <div class=" text-end f-right">
                               
                            </div>
                        </div>
                       <!-- Nav tabs -->
                        <div class="col-lg-10">
                                <ul>
                                    <li style="display: inline-block;"><a th:class="'dl_ymd'==${dsvo.orderby}?'active'" href="#" onclick="javascript:SearchSubmit('dl_ymd')">ìµœì‹ ìˆœ</a></li>
                                    &nbsp; &nbsp;
                                    <li style="display: inline-block;"><a th:class="'inq_cnt'==${dsvo.orderby}?'active'" href="#" onclick="javascript:SearchSubmit('inq_cnt')">ì¸ê¸°ìˆœ</a></li>
                                     &nbsp; &nbsp;
                                    <li style="display: inline-block;"><a th:class="'dl_prc'==${dsvo.orderby}?'active'" href="#" onclick="javascript:SearchSubmit('dl_prc')">ê°€ê²©ìˆœ </a></li>
                                   
                                </ul>  
	                       </div>
	                        <div class="col-lg-2"><a class="button small mb-20" onclick="location.href='/my/dealform'"><span>íŒë§¤ê¸€ë“±ë¡</span></a></div>
                        <hr>
                        <div class="col-lg-12">
                            <div>
                                <!-- popular-product start -->
                                <div id="popular-product">
                                    <div class="row">
                                        <!-- product-item start -->
                                       <div class="container">
							                <div th:if="${#lists.isEmpty(lists)}" style=" width:100%; height:200px;" align="center">
	                                       	</div>  
	                                        	<div align="center" th:if="${#lists.isEmpty(lists)}" th:text="'ê²€ìƒ‰ì–´ì™€ ì¼ì¹˜í•˜ëŠ” íŒë§¤ê¸€ì´ ì—†ìŠµë‹ˆë‹¤'"></div>
                                        	 <div th:if="${#lists.isEmpty(lists)}" style=" width:100%; height:200px;" align="center">
	                                       	</div>  
                                        </div>
                                        <!-- íŒë§¤ì™„ë£Œê°€ ì•„ë‹Œ ìƒíƒœì¸ ë¬¼í’ˆë§Œ ë³´ì—¬ì¤ë‹ˆë‹¤.  -->
                                        <!--  th:if="${deal.stts != 'íŒë§¤ì™„ë£Œ'}" ì´ê±°ì“°ë©´ ë¹µê¾¸ë‚˜ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œì œì–´í•´ì•¼.. -->
                                        <div th:each="deal : ${lists}" class="col-lg-3 col-md-4">
                                            <div class="product-item product-item-2"  >
                                                <div class="product-img">
                                                    <a th:href="@{/goguma/dealdetail/{dlNo}(dlNo=${deal.dlNo})}">
                                                        <img th:src="${deal.atchNm}"style="width:270px; height:270px;" 
                                                        onerror="this.onerror=null; this.src='/img/logo/001.png'"/>
                                                    </a>
                                                </div>
                                                <div class="product-info">
                                                    
                                                    <h4 th:text="${deal.dlTtl}">Product Name</h4>
                                                    <!-- ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ì´ì˜ê¸¸ë˜ ëª¨ì–‘ ì €ê±¸ë¡œí•¨  -->
													<a class="button small"
														th:each="c : ${category}"
														th:if="${deal.ctgry == c.commonDetailCode && deal.ctgry != 'FR'}"
														th:text="${c.commonNm}" ></a>
                                                    <h4 style="color:#C04A82;" th:if="${deal.ctgry != 'FR'}"
                                                    	th:text="${#numbers.formatInteger(deal.dlPrc, 3, 'COMMA') + 'ì›'}" class="pro-price"
                                                    	>$ 869.00</h4>
                                                    <h4 style="color:#FCD052; margin-top:22px;" th:if="${deal.dlPrc == 0}">ë¬´ë£Œë‚˜ëˆ”</h4>
                                                </div>
                                                
                                                <!-- ë§ˆìš°ìŠ¤ ì˜¤ë²„ì‹œ : ê±°ë˜ì§€ì—­(íŒë§¤ê¸€ì˜) & ë‚´ê°€ íŒë§¤ì¤‘ì¸ ê¸€ í‘œì‹œ -->
                                                <ul class="action-button">
                                                    <li>
                                                        <p th:text="${deal.area}" th:href="@{/goguma/dealdetail/{dlNo}(dlNo=${deal.dlNo})}"></p>
                                                    </li>
                                                    <li>
													    <span th:if="${session.userId == deal.ntslId}" th:inline="text" th:text="'ë‚´ê°€ íŒë§¤ì¤‘ì¸ ê²Œì‹œê¸€ì…ë‹ˆë‹¤'"></span>
													</li>
                                                </ul>
                                            </div>
                                        </div>
                                        <!-- product-item end -->
                                    </div>
                                </div>
                           
							         <!-- ìŠ¤íƒ€ì¼ ì ìš©í•œ í˜ì´ì§• ë²ˆí˜¸ ë„ì›¢ë£¨ ê³³-->
				                     <ul class="shop-pagination box-shadow text-center ptblr-10-30">
				                        <li><a href="#"><i class="zmdi zmdi-chevron-left"></i></a></li>
				                        <li
				                           th:each="num: *{#numbers.sequence(paging.startPage, paging.endPage)}"
				                          th:class="${paging.page}==${num} ? 'active'"><a
				                           th:href="|javascript:gopage(${num})|">[[${num}]]</a></li>
				
				                        <li><a href="#"><i class="zmdi zmdi-chevron-right"></i></a></li>
				                     </ul>
			                                <!-- new-arrival end -->
                         
                                <!-- special-offer end -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- PRODUCT TAB SECTION END -->

            </div>            
        </section>
        <!-- End page content -->

      
    
    <!-- Body main wrapper end -->
	<script th:inline="javascript">
	
	/* ì¸ê¸°ê²€ìƒ‰ì–´ ë¡¤ë§ê¸°ëŠ¥ ê´€ë ¨ ììŠ¤  */
	
	/*<![CDATA[*/
	let Data = /*[[ ${word} ]]*/
	console.log(Data);
	
	let rollingData = new Array();
	for(let i in Data){
		  const index = parseInt(i) + 1;
		  console.log(index);
		  console.log(Data[i].searchTtl);
		  rollingData.push(index + " " + Data[i].searchTtl);
		  console.log(rollingData);
		}


    let timer = 2000 // ë¡¤ë§ë˜ëŠ” ì£¼ê¸° ì…ë‹ˆë‹¤ (1000 => 1ì´ˆ)

    let first = document.getElementById('first'),
        second = document.getElementById('second'),
        third = document.getElementById('third')
    let move = 2
    let dataCnt = 1
    let listCnt = 1

    //ìœ„ ì„ ì–¸ì€ ë”°ë¡œ ì™„ì „íˆ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ” í•œ ì¡°ì •í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.
    first.children[0].innerHTML = rollingData[0]
    
    setInterval(() => {
        if(move == 2){
            first.classList.remove('card_sliding')
            first.classList.add('card_sliding_after')

            second.classList.remove('card_sliding_after')
            second.classList.add('card_sliding')

            third.classList.remove('card_sliding_after')
            third.classList.remove('card_sliding')

            move = 0
        } else if (move == 1){
            first.classList.remove('card_sliding_after')
            first.classList.add('card_sliding')

            second.classList.remove('card_sliding_after')
            second.classList.remove('card_sliding')

            third.classList.remove('card_sliding')
            third.classList.add('card_sliding_after')

            move = 2
        } else if (move == 0) {
            first.classList.remove('card_sliding_after')
            first.classList.remove('card_sliding')

            second.classList.remove('card_sliding')
            second.classList.add('card_sliding_after')

            third.classList.remove('card_sliding_after')
            third.classList.add('card_sliding')

            move = 1
        }
        
        if(dataCnt < (rollingData.length - 1)) {
            document.getElementById('rolling_box').children[listCnt].children[0].innerHTML = rollingData[dataCnt]
                dataCnt++
        } else if(dataCnt == rollingData.length - 1) {
            document.getElementById('rolling_box').children[listCnt].children[0].innerHTML = rollingData[dataCnt]
            dataCnt = 0
        }

        if(listCnt < 2) {
            listCnt++
        } else if (listCnt == 2) {
            listCnt = 0
        }

        console.log(listCnt)
    }, timer);
	</script>
</div>
<!--     jquery latest version -->
<!--     <script src="js/vendor/jquery-3.6.0.min.js"></script> -->
<!--     <script src="js/vendor/jquery-migrate-3.3.2.min.js"></script> -->
<!--     Bootstrap framework js -->
<!--     <script src="js/bootstrap.bundle.min.js"></script> -->
<!--     jquery.nivo.slider js -->
<!--     <script src="lib/js/jquery.nivo.slider.js"></script> -->
<!--     All js plugins included in this file. -->
<!--     <script src="js/plugins.js"></script> -->
<!--     Main js file that contents all jQuery plugins activation. -->
<!--     <script src="js/main.js"></script> -->

</body>

</html>