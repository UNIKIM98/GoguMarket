<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://ultraq.net/thymeleaf/layout"
layout:decorate="~{layouts/layout}">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

  <script src="https://code.jquery.com/jquery-3.6.3.js"
	integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
	crossorigin="anonymous"></script>
    <style>
	
		.col-lg-3 span{
		color: #C04A82;
		}
   		 .action-button span {
			color: #C04A82;
		}
		
        .rolling_box{
            width: 300px;
            height: 40px;
            text-align: center;
            border: 1px solid #848484;
        }

        .rolling_box ul {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative;
        }

        .rolling_box ul li {
            width: 100%;
            height: 100%;
            transition: .5s;
            position:absolute;
            transition: top .75s;
            top: 100%;
            z-index: 1;
            background-color: #ffffff;
        }

        .card_sliding{
            top: 0 !important;
            z-index: 100 !important;
        } 

        .card_sliding_after{
            top: -100% !important;
            z-index: 10 !important;
        }

        .rolling_box ul li p {
            font-size: 30px;
            line-height: 40px;
            font-weight: bold;
        }

        .before_slide {
            transform: translateY(100%);
        }

        .after_slide {
            transform: translateY(0);
        }

    </style>

</head>

<body>
	<div layout:fragment="content">
    	<script>
    		// Ìï®ÏàòÎ°úÎ∞õÏïÑÏÑú
			function gopage(page) {
				frmSearch.page.value = page;
				frmSearch.submit();
			}
			// Í≤ÄÏÉâÏñ¥ Í≤∞Í≥ºÍ∞Ä Ïú†ÏßÄÎêòÎèÑÎ°ù + ÏÑúÎ∏åÎ∞ã Ìï®Ïàò 
			function SearchSubmit(orderby){
				frmSearch.orderby.value = orderby;
				frmSearch.submit();
			}
			// Ï¥àÍ∏∞ÌôîÎ≤ÑÌäº
			function resetSearch(){
				frmSearch.page.value='1';
				frmSearch.orderby.value='';
				frmSearch.ctgry.value='';
				frmSearch.searchType.value='';
				frmSearch.searchTtl.value='';
				
			}
			
		</script>
    <!-- Body main wrapper start -->
    <div class="wrapper">
        <!-- BREADCRUMBS SETCTION START -->
        <div class="breadcrumbs-section plr-200 mb-80 section">
            <div class="breadcrumbs overlay-bg">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="breadcrumbs-inner">
                                <h1 class="breadcrumbs-title">Ï§ëÍ≥†ÎßàÏºì</h1>
                                <ul class="breadcrumb-list">
                                    <li><a href="/">ÌôàÏúºÎ°úÍ∞ÄÍ∏∞</a></li>
                                    <li>Ï§ëÍ≥†ÎßàÏºìÎ©îÏù∏</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

									
									
        <div class="newsletter-section section-bg-tb pt-60 pb-80">
            <div class="container">
	            <div center="align">
		            <h2 class="newsletter-title" style="color:#C04A82; margin-left:30px;">üç†Ï§ëÍ≥†ÎßàÏºì ÌÜµÌï©Í≤ÄÏÉâ</h2>
	                    <p style="margin-left:30px;">1. Ïπ¥ÌÖåÍ≥†Î¶¨ÏôÄ Í∏ÄÏú†ÌòïÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</p>
	                    <p style="margin-left:30px;">2. ÏÑ†ÌÉùÌïòÏßÄ ÏïäÏùÑ Ïãú Ï†ÑÏ≤¥Í∏ÄÏóêÏÑú Ï°∞ÌöåÎê©ÎãàÎã§</p>
	            </div>
                <div class="row">
                    <div class="col-lg-8 lg-2">
                       <!-- Ïπ¥ÌÖåÍ≥†Î¶¨&Í≤ÄÏÉâ&ÌéòÏù¥Ïßï ÏÇºÏúÑÏùºÏ≤¥Î°ú ÌïúÌÅêÏóê : form ÌÉúÍ∑∏Î°ú Í∞êÏãºÎã§ -->
                        <div class="newsletter"> 
                        	<div class="newsletter-info text-center">
		                        <form name="frmSearch" align="center">
				                    
		                                <div class="subcribe clearfix">
		                                        <input type="hidden" name="page" value="1"> 
		                                        <input type="hidden" name="orderby" value="dl_ymd"> 
		                                        <div class="row">
		                                        <div class="col-2" style="padding: 15px 15px 0 15px;">
		                                            <select style="width:150px;" name="ctgry">
		                                                <!-- ÏÑ†ÌÉùÌïúÍ∞íÏùÑ ÎÑ§ÏûÑÏóê Îã¥ÏïÑÏ§òÏïºÎêúÎã§..ÏúÑÏóê Ï£ºÏÜåÏ∞ΩÏóê Îú∏ -->
		                                                <option value="">Ï†ÑÏ≤¥ Ïπ¥ÌÖåÍ≥†Î¶¨
		                                                <option th:each="ct : ${category}" th:text="${ct.commonNm}"
		                                                    th:value="${ct.commonDetailCode}"
		                                                    th:selected="${ct.commonDetailCode}==${dsvo.ctgry}">
		                                            </select> 
		                                             <!-- ÌÇ§ÏõåÎìúÎ≥ÑÍ≤ÄÏÉâ + ÌÇ§ÏõåÎìúÏ†ÄÏû•(Ïã§Í≤ÄÏóêÏì∏) -->                                                        
			                                        <select style="width:150px; " id="searchType" name="searchType" title="Í≤ÄÏÉâ Ïú†Ìòï ÏÑ†ÌÉù">
			                                            <option value="">Ï†ÑÏ≤¥ Í∏Ä Ïú†Ìòï</option>
			                                            <option value="dlTtl" th:selected="'dlTtl'==${dsvo.searchType}">Í∏ÄÏ†úÎ™©</option>
			                                            <option value="dlCn" th:selected="'dlCn'==${dsvo.searchType}">Í∏ÄÎÇ¥Ïö©</option>
			                                            <option value="ntslId" th:selected="'ntslId'==${dsvo.searchType}">ÌåêÎß§Ïûê</option>
			                                        </select> 
			                                        </div>
			                                <div class="col-8">
			                                <div class="row">
			                                <div class="col-6">
			                                	<input th:value="${dsvo.searchTtl}" type="text" name="searchTtl" id="searchTtl"
			                                           placeholder="Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî" title="ÌÇ§ÏõåÎìú ÏûÖÎ†•"
			                                           style="margin-top:20px;"/>
			                               </div>
			                                <div class="col-4">
			                                    <button class="submit-btn-2 btn-hover-2" type="submit" style="width:95px; margin-top:20px;" >Í≤ÄÏÉâ</button>
				                                <button class="submit-btn-2 btn-hover-2" style="width:95px; margin-top:20px;" onclick="resetSearch()" type="button">Î¶¨ÏÖã</button>
			                                </div>
			                                </div>
			                                </div>
			                                </div>
		                             </div>
		                        </form>
	                        </div>
                        </div>
                    </div>
                    
                    <!-- Ïù∏Í∏∞Í≤ÄÏÉâÏñ¥ Î°§ÎßÅÎ∞ïÏä§ -->
                    <div class="col-lg-3" style="margin-top:0px;">
		              <h3><span>üç†Ïù∏Í∏∞Í≤ÄÏÉâÏñ¥</span></h3>
		                <div class="rolling_box">
		                    <ul id ="rolling_box">
		                    <li class="card_sliding" id ="first"><p></p></li>
		                    <li class="" id ="second"><p></p></li>
		                    <li class="" id ="third"><p></p></li>
		                    </ul>
		                </div>
		            </div>
                </div>
            </div>
        </div>
    </div>

		
        <!-- Start page content -->
        <section id="page-content" class="page-wrapper section">
            <div class="mb-80">
            <!-- PRODUCT TAB SECTION START -->
                <div>
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class=" text-end f-right">
                                </div>
                            </div>
                        <!-- Nav tabs -->
                            <div class="col-lg-10">
                                    <ul>
                                        <li style="display: inline-block;"><a th:class="'dl_ymd'==${dsvo.orderby}?'active'" href="#" onclick="javascript:SearchSubmit('dl_ymd')">ÏµúÏã†Ïàú</a></li>
                                        &nbsp; &nbsp;
                                        <li style="display: inline-block;"><a th:class="'inq_cnt'==${dsvo.orderby}?'active'" href="#" onclick="javascript:SearchSubmit('inq_cnt')">Ïù∏Í∏∞Ïàú</a></li>
                                        &nbsp; &nbsp;
                                        <li style="display: inline-block;"><a th:class="'dl_prc'==${dsvo.orderby}?'active'" href="#" onclick="javascript:SearchSubmit('dl_prc')">Í∞ÄÍ≤©Ïàú </a></li>
                                    </ul>  
                            </div>
                                <div class="col-lg-2"><a class="button small mb-20" onclick="location.href='/my/dealform'"><span>ÌåêÎß§Í∏ÄÎì±Î°ù</span></a></div>
                            <hr>
                            <div class="col-lg-12">
                                <div>
                                    <!-- popular-product start -->
                                    <div id="popular-product">
                                        <div class="row">
                                            <!-- product-item start -->
                                        <div class="container">
                                                <div th:if="${#lists.isEmpty(lists)}" style=" width:100%; height:200px;" align="center">
                                                </div>  
                                                    <div align="center" th:if="${#lists.isEmpty(lists)}" th:text="'Í≤ÄÏÉâÏñ¥ÏôÄ ÏùºÏπòÌïòÎäî ÌåêÎß§Í∏ÄÏù¥ ÏóÜÏäµÎãàÎã§'"></div>
                                                <div th:if="${#lists.isEmpty(lists)}" style=" width:100%; height:200px;" align="center">
                                                </div>  
                                            </div>
                                            <!-- ÌåêÎß§ÏôÑÎ£åÍ∞Ä ÏïÑÎãå ÏÉÅÌÉúÏù∏ Î¨ºÌíàÎßå Î≥¥Ïó¨Ï§çÎãàÎã§.  -->
                                            <!--  th:if="${deal.stts != 'ÌåêÎß§ÏôÑÎ£å'}" Ïù¥Í±∞Ïì∞Î©¥ ÎπµÍæ∏ÎÇòÏÑú Ïª®Ìä∏Î°§Îü¨Î°úÏ†úÏñ¥Ìï¥Ïïº.. -->
                                            <div th:each="deal : ${lists}" class="col-lg-3 col-md-4">
                                                <div class="product-item product-item-2"  >
                                                    <div class="product-img">
                                                        <a th:href="@{/goguma/dealdetail/{dlNo}(dlNo=${deal.dlNo})}">
                                                            <img th:src="${deal.atchNm}"style="width:270px; height:270px;" 
                                                            onerror="this.onerror=null; this.src='/img/logo/001.png'"/>
                                                        </a>
                                                    </div>
                                                    <div class="product-info">
                                                        
                                                        <h4 th:text="${deal.dlTtl}">Product Name</h4>
                                                        <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ Î≤ÑÌäºÏù¥ÏÅòÍ∏∏Îûò Î™®Ïñë Ï†ÄÍ±∏Î°úÌï®  -->
                                                        <a class="button small"
                                                            th:each="c : ${category}"
                                                            th:if="${deal.ctgry == c.commonDetailCode && deal.ctgry != 'FR'}"
                                                            th:text="${c.commonNm}" ></a>
                                                        <h4 style="color:#C04A82;" th:if="${deal.ctgry != 'FR'}"
                                                            th:text="${#numbers.formatInteger(deal.dlPrc, 3, 'COMMA') + 'Ïõê'}" class="pro-price"
                                                            >$ 869.00</h4>
                                                        <h4 style="color:#FCD052; margin-top:22px;" th:if="${deal.dlPrc == 0}">Î¨¥Î£åÎÇòÎàî</h4>
                                                    </div>
                                                    
                                                    <!-- ÎßàÏö∞Ïä§ Ïò§Î≤ÑÏãú : Í±∞ÎûòÏßÄÏó≠(ÌåêÎß§Í∏ÄÏùò) & ÎÇ¥Í∞Ä ÌåêÎß§Ï§ëÏù∏ Í∏Ä ÌëúÏãú -->
                                                    <ul class="action-button">
                                                        <li>
                                                            <p th:text="${deal.area}" th:href="@{/goguma/dealdetail/{dlNo}(dlNo=${deal.dlNo})}"></p>
                                                        </li>
                                                        <li>
                                                            <span th:if="${session.userId == deal.ntslId}" th:inline="text" th:text="'ÎÇ¥Í∞Ä ÌåêÎß§Ï§ëÏù∏ Í≤åÏãúÍ∏ÄÏûÖÎãàÎã§'"></span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <!-- product-item end -->
                                        </div>
                                    </div>
                            
                                        <!-- Ïä§ÌÉÄÏùº Ï†ÅÏö©Ìïú ÌéòÏù¥Ïßï Î≤àÌò∏ ÎùÑÏõ¢Î£® Í≥≥-->
                                        <ul class="shop-pagination box-shadow text-center ptblr-10-30">
                                            <li><a href="#"><i class="zmdi zmdi-chevron-left"></i></a></li>
                                            <li
                                            th:each="num: *{#numbers.sequence(paging.startPage, paging.endPage)}"
                                            th:class="${paging.page}==${num} ? 'active'"><a
                                            th:href="|javascript:gopage(${num})|">[[${num}]]</a></li>
                    
                                            <li><a href="#"><i class="zmdi zmdi-chevron-right"></i></a></li>
                                        </ul>
                                                <!-- new-arrival end -->
                                    <!-- special-offer end -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- PRODUCT TAB SECTION END -->
            </div>            
        </section>
        <!-- End page content -->

      
    
    <!-- Body main wrapper end -->
	<script th:inline="javascript">
	
	/* Ïù∏Í∏∞Í≤ÄÏÉâÏñ¥ Î°§ÎßÅÍ∏∞Îä• Í¥ÄÎ†® ÏûêÏä§  */
	
	/*<![CDATA[*/
	let Data = /*[[ ${word} ]]*/
	console.log(Data);
	
	let rollingData = new Array();
	for(let i in Data){
		  const index = parseInt(i) + 1;
		  console.log(index);
		  console.log(Data[i].searchTtl);
		  rollingData.push(index + " " + Data[i].searchTtl);
		  console.log(rollingData);
		}


    let timer = 2000 // Î°§ÎßÅÎêòÎäî Ï£ºÍ∏∞ ÏûÖÎãàÎã§ (1000 => 1Ï¥à)

    let first = document.getElementById('first'),
        second = document.getElementById('second'),
        third = document.getElementById('third')
    let move = 2
    let dataCnt = 1
    let listCnt = 1

    //ÏúÑ ÏÑ†Ïñ∏ÏùÄ Îî∞Î°ú ÏôÑÏ†ÑÌûà ÏàòÏ†ïÌïòÏßÄ ÏïäÎäî Ìïú Ï°∞Ï†ïÌï† ÌïÑÏöîÎäî ÏóÜÏäµÎãàÎã§.
    first.children[0].innerHTML = rollingData[0]
    
    setInterval(() => {
        if(move == 2){
            first.classList.remove('card_sliding')
            first.classList.add('card_sliding_after')

            second.classList.remove('card_sliding_after')
            second.classList.add('card_sliding')

            third.classList.remove('card_sliding_after')
            third.classList.remove('card_sliding')

            move = 0
        } else if (move == 1){
            first.classList.remove('card_sliding_after')
            first.classList.add('card_sliding')

            second.classList.remove('card_sliding_after')
            second.classList.remove('card_sliding')

            third.classList.remove('card_sliding')
            third.classList.add('card_sliding_after')

            move = 2
        } else if (move == 0) {
            first.classList.remove('card_sliding_after')
            first.classList.remove('card_sliding')

            second.classList.remove('card_sliding')
            second.classList.add('card_sliding_after')

            third.classList.remove('card_sliding_after')
            third.classList.add('card_sliding')

            move = 1
        }
        
        if(dataCnt < (rollingData.length - 1)) {
            document.getElementById('rolling_box').children[listCnt].children[0].innerHTML = rollingData[dataCnt]
                dataCnt++
        } else if(dataCnt == rollingData.length - 1) {
            document.getElementById('rolling_box').children[listCnt].children[0].innerHTML = rollingData[dataCnt]
            dataCnt = 0
        }

        if(listCnt < 2) {
            listCnt++
        } else if (listCnt == 2) {
            listCnt = 0
        }

        console.log(listCnt)
    }, timer);
	</script>
</div>


</body>

</html>